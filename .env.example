# =========
# App DB (news_nlp)
# =========
DB_USER=news_nlp
DB_PASSWORD=news_nlp_password
DB_HOST=db
DB_PORT=5432
DB_NAME=news_nlp

# =========
# Postgres container superuser
# =========
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# =========
# Airflow
# =========
# Executor sencillo (para este proyecto basta)
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__LOAD_EXAMPLES=False

# IMPORTANTE: genera una clave Fernet real, por ejemplo con:
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
AIRFLOW__CORE__FERNET_KEY=REPLACE_ME_WITH_REAL_FERNET_KEY

# Cadena de conexión de Airflow a su propia base de datos en el contenedor Postgres
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow_user:airflow_password@db:5432/airflow_db

# Dependencias extra que se instalarán al arrancar la imagen oficial de Airflow
_PIP_ADDITIONAL_REQUIREMENTS=apache-airflow-providers-postgres psycopg2-binary

# =========
# MLflow
# =========
# MLflow usará la misma instancia de Postgres (db) pero con BD/usuario propios
MLFLOW_BACKEND_STORE_URI=postgresql+psycopg2://mlflow_user:mlflow_password@db:5432/mlflow_db
MLFLOW_ARTIFACT_ROOT=/mlflow/artifacts
MLFLOW_TRACKING_URI=http://mlflow:5000

# =========
# App env
# =========
NEWS_NLP_ENV=docker
